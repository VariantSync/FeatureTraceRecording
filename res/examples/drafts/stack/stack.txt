void push(T x) {
    ++head;
    storage[head] = x;
}

=== insert under context A ===>

void push(T x) {
    ++head;
    if (head < capacity) {

    }
    storage[head] = x;
}

===  move under context B  ===>

void push(T x) {
    ++head;
    if (head < capacity) {
        storage[head] = x;
    }
}

